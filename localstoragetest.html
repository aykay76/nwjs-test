<html>
<body>
  <p id="persistent">Grab value from local storage</p>
  <div class="form-group">
    <input type="text" value="jdgkbifmkkkcgglljmlojibojoafmlhi" id="thevalue" class="form-control" />
  </div>
  <div class="form-group">
    <input type="button" id="setit" class="btn btn-primary" value="Set It!" />
    <input type="button" id="clear" class="btn btn-primary" value="Clear" />
  </div>

  <script type="text/javascript">
    // require('nw.gui').Window.get().showDevTools()

    let p = document.querySelector("#persistent");

    if (window.localStorage) {
      p.textContent = localStorage.getItem('testitem');
    }
    else {
      document.querySelectorAll('input').forEach((i) => { i.enabled = false })
    }
    document.querySelectorAll('input#clear')[0].addEventListener('click', (el, me) => {
      window.localStorage.clear();
      p.textContent = '';
    });
    document.querySelector('input#setit').addEventListener('click', () => {
      let val = document.querySelector('#thevalue').value
      window.localStorage.setItem('testitem', val);
      p.textContent = val;
    });
  </script>
  </body>
</html>